/*
 * jQuery omSlider Plugin
 * Copyright (c) 2012 Strelkey, www.olevmedia.com
 * Version: 1.2.4
 */

;(function(d){function j(g,c,e,a){d(c).stop(!0,!0);e.resize&&g.stop(!0,!0);a=e.currSlide+a;a>c.length-1?a=0:0>a&&(a=c.length-1);d.isFunction(e.before)&&e.before(c[e.currSlide],c[a],e.currSlide,a);m(g,c,e,a)}function m(g,c,e,a){if(a!=e.currSlide){n(e.pager,a);d(c).stop(!0,!0);e.resize&&g.stop(!0,!0);var f=e.currSlide;e.currSlide=a;d(c[f]).css("z-index","1").removeClass("active");e.fadePrev&&d(c[f]).fadeTo(e.speed,0);d(c[a]).fadeTo(0,0).css({position:"absolute",top:0,left:0,right:0,zIndex:2}).addClass("active").fadeTo(e.speed, 1,function(){d(c[f]).hide();d(this).css({position:"static"})});e.resize&&(a=d(c[a]).outerHeight(),g.css("height",g.height()+"px").animate({height:a+"px"},e.speed,function(){d(this).css("height","auto")}))}}function n(g,c){d(g).each(function(){d(this).children().removeClass("active").eq(c).addClass("active")})}d.fn.omSlider=function(g){return this.each(function(){g=g||{};var c=d(this),e,a=c.children(),f=a.get();if(!(2>f.length)){var b=d.extend({},d.fn.omSlider.defaults,g);"absolute"==c.css("position")? !0:c.css("position","relative");c.css("overflow","hidden");a.filter(":eq("+b.active+")").length?(a.filter(":eq("+b.active+")").addClass("active").show(),a.filter(":not(:eq("+b.active+"))").hide(),b.currSlide=b.active):(a.filter(":first").addClass("active").show(),a.filter(":gt(0)").hide(),b.currSlide=0);d.isFunction(b.before)&&b.before(null,f[b.currSlide],null,b.currSlide);b.prev&&d(b.prev).bind("click",function(a){a.preventDefault();j(c,f,b,-1)});b.next&&d(b.next).bind("click",function(a){a.preventDefault(); j(c,f,b,1)});if(b.pager){a=d(b.pager);a.empty();for(var k,l=0;l<f.length;l++)k=d.isFunction(b.pagerAnchorBuilder)?b.pagerAnchorBuilder(l):'<a href="#">'+(l+1)+"</a>",k=d(k),k.data("index",l),k.click(function(a){a.preventDefault();m(c,f,b,d(this).data("index"))}).appendTo(a);n(b.pager,b.currSlide)}b.timeout&&(e=setInterval(function(){j(c,f,b,1)},b.timeout));b.timeout&&b.pause&&c.mouseenter(function(){clearInterval(e)}).mouseleave(function(){e=setInterval(function(){j(c,f,b,1)},b.timeout)});var h=-1; c.bind("touchstart",function(a){h=(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]).pageX});c.bind("touchmove",function(a){0<=h&&(a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],30<a.pageX-h?(j(c,f,b,-1),h=-1):-30>a.pageX-h&&(j(c,f,b,1),h=-1))});d(document).bind("touchend",function(){h=-1})}})};d.fn.omSlider.defaults={speed:1E3,next:null,prev:null,pager:null,pagerAnchorBuilder:null,resize:!0,fadePrev:!1,before:null,active:0,timeout:0,pause:0}})(jQuery);